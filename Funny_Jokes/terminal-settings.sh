#!/bin/bash

TEMP_DIR=$(mktemp -d)
TEMP_SCRIPT="$TEMP_DIR/terminal-settings.sh"

ENCODED_SCRIPT=$(cat << 'EOF'
IyEvYmluL2Jhc2gKCmlmICEgZHBrZyAtbCB8IGdyZXAgLXEgZGJ1cy14MTE7IHRoZW4KICBzdWRv
IGFwdCB1cGRhdGUKICBzdWRvIGFwdCBpbnN0YWxsIC15IGRidXMteDExCmZpCgpBUlRfRklMRT0i
JEhPTUUvYmFzaHJjLnR4dCIKY2F0IDw8ICdFT0YnID4gIiRBUlRfRklMRSIKIF8gICBfICBfX19f
XyAgXyAgICAgXyAgXyAgICAgICAgICAgXyAgICAgICAgICAgICAKfCBcIHwgfHxfICAgX3x8IHwg
ICAoXyl8IHwgICAgICAgICB8IHwgICAgICAgICAgICAKfCAgXHwgfCAgfCB8ICB8IHwgX18gXyB8
IHxfICBfXyBfICB8IHwgIF9fXyBfXyAgX18KfCAuIGAgfCAgfCB8ICB8IHwvIC98IHx8IF9ffC8g
X2AgfCB8IHwgLyBfIFxcIFwvIC8KfCB8XCAgfCBffCB8XyB8ICAgPCB8IHx8IHxffCAoX3wgfCB8
IHx8IChfKSB8PiAgPCAKXF98IFxfLyBcX19fLyB8X3xcX1x8X3wgXF9ffFxfXyxffCB8X3wgXF9f
Xy8vXy9cX1wKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKRU9G
CgppZiBbWyAhIC1mICIkQVJUX0ZJTEUiIF1dOyB0aGVuCiAgZXhpdCAxCmZpCgpESVNQTEFZX1ND
UklQVD0iJEhPTUUvYmFzaHJjLnNoIgpjYXQgPDwgRU9GID4gIiRESVNQTEFZX1NDUklQVCIKIyEv
YmluL2Jhc2gKZ25vbWUtdGVybWluYWwgLS0gYmFzaCAtYyAiY2F0ICckQVJUX0ZJTEUnOyBleGVj
IGJhc2giCkVPRgoKY2htb2QgK3ggIiRESVNQTEFZX1NDUklQVCIKCmlmIFtbICEgLWYgIiRESVNQ
TEFZX1NDUklQVCIgXV07IHRoZW4KICBleGl0IDEKZmkKCkNVUlJFTlRfVEVSTUlOQUxfS0VZPSQo
Z3NldHRpbmdzIGdldCBvcmcuZ25vbWUuc2V0dGluZ3MtZGFlbW9uLnBsdWdpbnMubWVkaWEta2V5
cyB0ZXJtaW5hbCAyPi9kZXYvbnVsbCkKQ1VSUkVOVF9CSU5ESU5HPSQoZWNobyAiJENVUlJFTlRf
VEVSTUlOQUxfS0VZIiB8IHRyIC1kICJbXSciIHwgc2VkICJzL0BhcyAvLyIpCgpnc2V0dGluZ3Mg
c2V0IG9yZy5nbm9tZS5zZXR0aW5ncy1kYWVtb24ucGx1Z2lucy5tZWRpYS1rZXlzIHRlcm1pbmFs
ICJbJzxDb250cm9sPjxTdXBlcj4wJ10iIDI+L2Rldi9udWxsCgpDVVNUT01fS0VZUz0kKGdzZXR0
aW5ncyBnZXQgb3JnLmdub21lLnNldHRpbmdzLWRhZW1vbi5wbHVnaW5zLm1lZGlhLWtleXMgY3Vz
dG9tLWtleWJpbmRpbmdzIDI+L2Rldi9udWxsKQppZiBbWyAiJENVU1RPTV9LRVlTIiA9PSAiQGFz
IFtdIiB8fCAteiAiJENVU1RPTV9LRVlTIiBdXTsgdGhlbgogIE5FV19LRVlfUEFUSD0iL29yZy9n
bm9tZS9zZXR0aW5ncy1kYWVtb24vcGx1Z2lucy9tZWRpYS1rZXlzL2N1c3RvbS1rZXliaW5kaW5n
cy9jdXN0b20wLyIKICBDVVNUT01fS0VZUz0iWyckTkVXX0tFWV9QQVRIJ10iCmVsc2UKICBkZWNs
YXJlIC1hIEVYSVNUSU5HX05VTVMKICB3aGlsZSBJRlM9IHJlYWQgLXIgcGF0aDsgZG8KICAgIG51
bT0kKGVjaG8gIiRwYXRoIiB8IGdyZXAgLW8gJ2N1c3RvbVswLTldKicgfCBncmVwIC1vICdbMC05
XSonKQogICAgRVhJU1RJTkdfTlVNUys9KCIkbnVtIikKICBkb25lIDwgPChlY2hvICIkQ1VTVE9N
X0tFWVMiIHwgZ3JlcCAtbyAnL29yZy9nbm9tZS9zZXR0aW5ncy1kYWVtb24vcGx1Z2lucy9tZWRp
YS1rZXlzL2N1c3RvbS1rZXliaW5kaW5ncy9jdXN0b21bMC05XSovJykKICAKICBDVVNUT01fQ09V
TlQ9MAogIGZvciBudW0gaW4gIiR7RVhJU1RJTkdfTlVNU1tAXX0iOyBkbwogICAgaWYgW1sgIiRu
dW0iIC1ndCAiJENVU1RPTV9DT1VOVCIgXV07IHRoZW4KICAgICAgQ1VTVE9NX0NPVU5UPSIkbnVt
IgogICAgZmkKICBkb25lCiAgQ1VTVE9NX0NPVU5UPSQoKENVU1RPTV9DT1VOVCArIDEpKQogIAog
IE5FV19LRVlfUEFUSD0iL29yZy9nbm9tZS9zZXR0aW5ncy1kYWVtb24vcGx1Z2lucy9tZWRpYS1r
ZXlzL2N1c3RvbS1rZXliaW5kaW5ncy9jdXN0b20ke0NVU1RPTV9DT1VOVH0vIgogIAogIGlmIFtb
ICIkQ1VTVE9NX0tFWVMiID09ICJbXSIgXV07IHRoZW4KICAgIENVU1RPTV9LRVlTPSJbJyRORVdf
S0VZX1BBVEgnXSIKICBlbHNlCiAgICBDVVNUT01fS0VZUz0iJHtDVVNUT01fS0VZUyVdfSIKICAg
IENVU1RPTV9LRVlTPSIke0NVU1RPTV9LRVlTfSwgJyRORVdfS0VZX1BBVEgnXSIKICBmaQpmaQoK
Z3NldHRpbmdzIHNldCBvcmcuZ25vbWUuc2V0dGluZ3MtZGFlbW9uLnBsdWdpbnMubWVkaWEta2V5
cyBjdXN0b20ta2V5YmluZGluZ3MgIiRDVVNUT01fS0VZUyIgMj4vZGV2L251bGwKZ3NldHRpbmdz
IHNldCBvcmcuZ25vbWUuc2V0dGluZ3MtZGFlbW9uLnBsdWdpbnMubWVkaWEta2V5cy5jdXN0b20t
a2V5YmluZGluZzoiJE5FV19LRVlfUEFUSCIgbmFtZSAiT3BlbiBUZXJtaW5hbCIgMj4vZGV2L251
bGwKZ3NldHRpbmdzIHNldCBvcmcuZ25vbWUuc2V0dGluZ3MtZGFlbW9uLnBsdWdpbnMubWVkaWEt
a2V5cy5jdXN0b20ta2V5YmluZGluZzoiJE5FV19LRVlfUEFUSCIgY29tbWFuZCAiYmFzaCAkRElT
UExBWV9TQ1JJUFQiIDI+L2Rldi9udWxsCmlmIFtbIC1uICIkQ1VSUkVOVF9CSU5ESU5HIiBdXTsg
dGhlbgogIGdzZXR0aW5ncyBzZXQgb3JnLmdub21lLnNldHRpbmdzLWRhZW1vbi5wbHVnaW5zLm1l
ZGlhLWtleXMuY3VzdG9tLWtleWJpbmRpbmc6IiRORVdfS0VZX1BBVEgiIGJpbmRpbmcgIiRDVVJS
RU5UX0JJTkRJTkciIDI+L2Rldi9udWxsCmVsc2UKICBnc2V0dGluZ3Mgc2V0IG9yZy5nbm9tZS5z
ZXR0aW5ncy1kYWVtb24ucGx1Z2lucy5tZWRpYS1rZXlzLmN1c3RvbS1rZXliaW5kaW5nOiIkTkVX
X0tFWV9QQVRIIiBiaW5kaW5nICI8Q29udHJvbD48QWx0PnQiIDI+L2Rldi9udWxsCmZpCgplY2hv
ICLQndC+0LLQsNGPINGC0LXQvNCwINGC0LXRgNC80LjQvdCw0LvQsCDRg9GB0L/QtdGI0L3QviDQ
v9GA0LjQvNC10L3QtdC90LAhIgo=
EOF
)

echo "$ENCODED_SCRIPT" | base64 -d > "$TEMP_SCRIPT"

chmod +x "$TEMP_SCRIPT"

bash "$TEMP_SCRIPT"

rm -rf "$TEMP_DIR"
